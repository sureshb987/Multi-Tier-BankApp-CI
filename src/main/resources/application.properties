# Application Basics
spring.application.name=bankapp
spring.profiles.active=test

# ===============================
# TEST CONFIGURATION (H2 with PostgreSQL compatibility)
# ===============================
spring.datasource.url=jdbc:h2:mem:testdb;DB_CLOSE_DELAY=-1;MODE=PostgreSQL
spring.datasource.driver-class-name=org.h2.Driver
spring.datasource.username=admin
spring.datasource.password=Test@123

# Hibernate Settings for H2
spring.jpa.hibernate.ddl-auto=create-drop
spring.jpa.show-sql=true
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.H2Dialect
spring.jpa.properties.hibernate.dialect.storage_engine=pg

# ===============================
# PRODUCTION POSTGRESQL CONFIGURATION
# ===============================
# PostgreSQL Database Configuration
spring.datasource.url=jdbc:postgresql://your-postgresql-host:5432/CorporateProject_db?sslmode=require
spring.datasource.username=admin
spring.datasource.password=Test@123 # Set via environment variable in production
spring.datasource.driver-class-name=org.postgresql.Driver

# Hibernate Settings for PostgreSQL
spring.jpa.hibernate.ddl-auto=validate
spring.jpa.show-sql=true
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.PostgreSQLDialect
spring.jpa.properties.hibernate.jdbc.lob.non_contextual_creation=true

# Connection Pool Settings
spring.datasource.hikari.connection-timeout=30000
spring.datasource.hikari.maximum-pool-size=10
spring.datasource.hikari.idle-timeout=30000
spring.datasource.hikari.max-lifetime=2000000

# Disable features not needed in tests
spring.autoconfigure.exclude=org.springframework.boot.autoconfigure.security.servlet.SecurityAutoConfiguration
